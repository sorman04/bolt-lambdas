service: serverless-bolt-po-scrapper-functions

#useDotenv: true

provider:
  name: aws
  runtime: python3.9
  stage: prod
  region: eu-north-1
  role: arn:aws:iam::442771374669:role/General_Lambda_fullAccess  

plugins:
  - serverless-python-requirements  # we use node to install the dependency called serverless-python...
  #- serverless-dotenv-plugin # requested in order to use env variables

package: 
  individually: true  # include only specified files in the lambda package

functions:
  Scrapper:
    name: Bolt-PO-Scrapper
    handler: main.handler
    module: orders_bot
    description: Bolt-PO lambda function to scrap the app and get the Bulk PO archive of the day
    timeout: 180 # in seconds, max allowed time to run
    memorySize: 256 # in mb
    package: 
      patterns:  # include or exclude files in the lambda package
        - "!node_modules/**"  # exclude the node modules
        - "!yarn.lock"
        - "!package-lock.json"
        - "!package.json"